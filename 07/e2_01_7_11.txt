まずthread1が実行されthread1がres1のロックを取得し、スリープが実行される。その間にコンテキストスイッチが発生し、
thread2が実行されthread2がres2のロックを取得しスリープが実行される。その間にまた、コンテキストスイッチが発生し、
thread1に処理が戻りthread1がres2のロックを取得しようとするが、すでにthread2によってロックを確保されているため永遠に動けない状態で固まる。
固まってる間にまた、コンテキストスイッチが発生するがthread2側でもres1はすでにthread1によってロックされているので永遠に動けない状態で固まる。
結果動作不良で何も起きなくなる。